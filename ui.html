<h2>Node Reader</h2>
<div id="nodeData"></div>
<button id="find">Find</button>
<script>
  onmessage = (event) => {
    message = event.data.pluginMessage;
    console.log(message);
    /*
  if (message.type !== 'readed-node') return;
    

  const nodeData = document.getElementById('nodeData');
  console.log(message)
  const isArray = Array.isArray(message.data);
  if (isArray) {
    for (let i = 0; i < message.data.length; i++) {
      console.log(message)
    nodeData.append(message.data[i].id);
    }
  } else throw new Error ("This should be an array!!")
    */
  };
</script>
<script>
  document.getElementById("find").onclick = () => {
    parent.postMessage({ pluginMessage: { type: "read-node" } }, "*");
  };
</script>
